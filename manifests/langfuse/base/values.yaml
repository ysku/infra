# Langfuse Helm values for GKE Autopilot deployment

langfuse:
  salt:
    secretKeyRef:
      name: langfuse-general
      key: salt
  encryptionKey:
    secretKeyRef:
      name: langfuse-general
      key: encryption-key
  nextauth:
    secret:
      secretKeyRef:
        name: langfuse-nextauth-secret
        key: nextauth-secret

clickhouse:
  replicaCount: 1
  shards: 1

  auth:
    existingSecret: langfuse-clickhouse-auth
    existingSecretKey: password

  resources:
    limits:
      cpu: 1000m
      memory: 2Gi
      ephemeral-storage: 1Gi
    requests:
      cpu: 500m
      memory: 1Gi
      ephemeral-storage: 1Gi

zookeeper:
  replicaCount: 1

  resources:
    limits:
      cpu: 500m
      memory: 1Gi
      ephemeral-storage: 1Gi
    requests:
      cpu: 250m
      memory: 512Mi
      ephemeral-storage: 1Gi

postgresql:
  auth:
    existingSecret: langfuse-postgresql-auth
    secretKeys:
      adminPasswordKey: password
      userPasswordKey: password
  primary:
    resources:
      limits:
        cpu: 500m
        memory: 1Gi
        ephemeral-storage: 1Gi
      requests:
        cpu: 250m
        memory: 512Mi
        ephemeral-storage: 1Gi

redis:
  auth:
    existingSecret: langfuse-redis-auth
    existingSecretPasswordKey: password
  master:
    resources:
      limits:
        cpu: 500m
        memory: 512Mi
        ephemeral-storage: 1Gi
      requests:
        cpu: 100m
        memory: 256Mi
        ephemeral-storage: 1Gi

# Langfuse web application
web:
  resources:
    limits:
      cpu: 500m
      memory: 1Gi
      ephemeral-storage: 1Gi
    requests:
      cpu: 250m
      memory: 512Mi
      ephemeral-storage: 1Gi

# Langfuse worker
worker:
  resources:
    limits:
      cpu: 500m
      memory: 1Gi
      ephemeral-storage: 1Gi
    requests:
      cpu: 250m
      memory: 512Mi
      ephemeral-storage: 1Gi
